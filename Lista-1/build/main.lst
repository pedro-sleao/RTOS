GAS LISTING /tmp/ccKf8w0j.s 			page 1


   1               		.file	"main.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.stabs	"/home/pedro/RTOS/Lista-1/",100,0,2,.Ltext0
   8               		.stabs	"main.c",100,0,2,.Ltext0
   9               		.text
  10               	.Ltext0:
  11               		.stabs	"gcc2_compiled.",60,0,0,0
  12               		.stabs	"int:t(0,1)=r(0,1);-32768;32767;",128,0,0,0
  13               		.stabs	"char:t(0,2)=@s8;r(0,2);0;255;",128,0,0,0
  14               		.stabs	"long int:t(0,3)=@s32;r(0,3);020000000000;017777777777;",128,0,0,0
  15               		.stabs	"unsigned int:t(0,4)=r(0,4);0;0177777;",128,0,0,0
  16               		.stabs	"long unsigned int:t(0,5)=@s32;r(0,5);0;037777777777;",128,0,0,0
  17               		.stabs	"__int128:t(0,6)=@s128;r(0,6);02000000000000000000000000000000000000000000;0177777777777777
  18               		.stabs	"__int128 unsigned:t(0,7)=@s128;r(0,7);0;03777777777777777777777777777777777777777777;",128
  19               		.stabs	"long long int:t(0,8)=@s64;r(0,8);01000000000000000000000;00777777777777777777777;",128,0,0
  20               		.stabs	"long long unsigned int:t(0,9)=@s64;r(0,9);0;01777777777777777777777;",128,0,0,0
  21               		.stabs	"short int:t(0,10)=r(0,10);-32768;32767;",128,0,0,0
  22               		.stabs	"short unsigned int:t(0,11)=r(0,11);0;0177777;",128,0,0,0
  23               		.stabs	"signed char:t(0,12)=@s8;r(0,12);-128;127;",128,0,0,0
  24               		.stabs	"unsigned char:t(0,13)=@s8;r(0,13);0;255;",128,0,0,0
  25               		.stabs	"float:t(0,14)=r(0,1);4;0;",128,0,0,0
  26               		.stabs	"double:t(0,15)=r(0,1);4;0;",128,0,0,0
  27               		.stabs	"long double:t(0,16)=r(0,1);4;0;",128,0,0,0
  28               		.stabs	"_Float32:t(0,17)=r(0,1);4;0;",128,0,0,0
  29               		.stabs	"short _Fract:t(0,18)=r(0,1);1;0;",128,0,0,0
  30               		.stabs	"_Fract:t(0,19)=r(0,1);2;0;",128,0,0,0
  31               		.stabs	"long _Fract:t(0,20)=r(0,1);4;0;",128,0,0,0
  32               		.stabs	"long long _Fract:t(0,21)=r(0,1);8;0;",128,0,0,0
  33               		.stabs	"unsigned short _Fract:t(0,22)=r(0,1);1;0;",128,0,0,0
  34               		.stabs	"unsigned _Fract:t(0,23)=r(0,1);2;0;",128,0,0,0
  35               		.stabs	"unsigned long _Fract:t(0,24)=r(0,1);4;0;",128,0,0,0
  36               		.stabs	"unsigned long long _Fract:t(0,25)=r(0,1);8;0;",128,0,0,0
  37               		.stabs	"_Sat short _Fract:t(0,26)=r(0,1);1;0;",128,0,0,0
  38               		.stabs	"_Sat _Fract:t(0,27)=r(0,1);2;0;",128,0,0,0
  39               		.stabs	"_Sat long _Fract:t(0,28)=r(0,1);4;0;",128,0,0,0
  40               		.stabs	"_Sat long long _Fract:t(0,29)=r(0,1);8;0;",128,0,0,0
  41               		.stabs	"_Sat unsigned short _Fract:t(0,30)=r(0,1);1;0;",128,0,0,0
  42               		.stabs	"_Sat unsigned _Fract:t(0,31)=r(0,1);2;0;",128,0,0,0
  43               		.stabs	"_Sat unsigned long _Fract:t(0,32)=r(0,1);4;0;",128,0,0,0
  44               		.stabs	"_Sat unsigned long long _Fract:t(0,33)=r(0,1);8;0;",128,0,0,0
  45               		.stabs	"short _Accum:t(0,34)=r(0,1);2;0;",128,0,0,0
  46               		.stabs	"_Accum:t(0,35)=r(0,1);4;0;",128,0,0,0
  47               		.stabs	"long _Accum:t(0,36)=r(0,1);8;0;",128,0,0,0
  48               		.stabs	"long long _Accum:t(0,37)=r(0,1);8;0;",128,0,0,0
  49               		.stabs	"unsigned short _Accum:t(0,38)=r(0,1);2;0;",128,0,0,0
  50               		.stabs	"unsigned _Accum:t(0,39)=r(0,1);4;0;",128,0,0,0
  51               		.stabs	"unsigned long _Accum:t(0,40)=r(0,1);8;0;",128,0,0,0
  52               		.stabs	"unsigned long long _Accum:t(0,41)=r(0,1);8;0;",128,0,0,0
  53               		.stabs	"_Sat short _Accum:t(0,42)=r(0,1);2;0;",128,0,0,0
  54               		.stabs	"_Sat _Accum:t(0,43)=r(0,1);4;0;",128,0,0,0
  55               		.stabs	"_Sat long _Accum:t(0,44)=r(0,1);8;0;",128,0,0,0
  56               		.stabs	"_Sat long long _Accum:t(0,45)=r(0,1);8;0;",128,0,0,0
  57               		.stabs	"_Sat unsigned short _Accum:t(0,46)=r(0,1);2;0;",128,0,0,0
GAS LISTING /tmp/ccKf8w0j.s 			page 2


  58               		.stabs	"_Sat unsigned _Accum:t(0,47)=r(0,1);4;0;",128,0,0,0
  59               		.stabs	"_Sat unsigned long _Accum:t(0,48)=r(0,1);8;0;",128,0,0,0
  60               		.stabs	"_Sat unsigned long long _Accum:t(0,49)=r(0,1);8;0;",128,0,0,0
  61               		.stabs	"void:t(0,50)=(0,50)",128,0,0,0
  62               		.stabs	"/usr/lib/avr/include/avr/io.h",130,0,0,0
  63               		.stabs	"/usr/lib/avr/include/avr/sfr_defs.h",130,0,0,0
  64               		.stabs	"/usr/lib/avr/include/inttypes.h",130,0,0,0
  65               		.stabs	"/usr/lib/gcc/avr/7.3.0/include/stdint.h",130,0,0,0
  66               		.stabs	"/usr/lib/avr/include/stdint.h",130,0,0,0
  67               		.stabs	"int8_t:t(5,1)=(0,12)",128,0,125,0
  68               		.stabs	"uint8_t:t(5,2)=(0,13)",128,0,126,0
  69               		.stabs	"int16_t:t(5,3)=(0,1)",128,0,127,0
  70               		.stabs	"uint16_t:t(5,4)=(0,4)",128,0,128,0
  71               		.stabs	"int32_t:t(5,5)=(0,3)",128,0,129,0
  72               		.stabs	"uint32_t:t(5,6)=(0,5)",128,0,130,0
  73               		.stabs	"int64_t:t(5,7)=(0,8)",128,0,132,0
  74               		.stabs	"uint64_t:t(5,8)=(0,9)",128,0,133,0
  75               		.stabs	"intptr_t:t(5,9)=(5,3)",128,0,146,0
  76               		.stabs	"uintptr_t:t(5,10)=(5,4)",128,0,151,0
  77               		.stabs	"int_least8_t:t(5,11)=(5,1)",128,0,163,0
  78               		.stabs	"uint_least8_t:t(5,12)=(5,2)",128,0,168,0
  79               		.stabs	"int_least16_t:t(5,13)=(5,3)",128,0,173,0
  80               		.stabs	"uint_least16_t:t(5,14)=(5,4)",128,0,178,0
  81               		.stabs	"int_least32_t:t(5,15)=(5,5)",128,0,183,0
  82               		.stabs	"uint_least32_t:t(5,16)=(5,6)",128,0,188,0
  83               		.stabs	"int_least64_t:t(5,17)=(5,7)",128,0,196,0
  84               		.stabs	"uint_least64_t:t(5,18)=(5,8)",128,0,203,0
  85               		.stabs	"int_fast8_t:t(5,19)=(5,1)",128,0,217,0
  86               		.stabs	"uint_fast8_t:t(5,20)=(5,2)",128,0,222,0
  87               		.stabs	"int_fast16_t:t(5,21)=(5,3)",128,0,227,0
  88               		.stabs	"uint_fast16_t:t(5,22)=(5,4)",128,0,232,0
  89               		.stabs	"int_fast32_t:t(5,23)=(5,5)",128,0,237,0
  90               		.stabs	"uint_fast32_t:t(5,24)=(5,6)",128,0,242,0
  91               		.stabs	"int_fast64_t:t(5,25)=(5,7)",128,0,250,0
  92               		.stabs	"uint_fast64_t:t(5,26)=(5,8)",128,0,257,0
  93               		.stabs	"intmax_t:t(5,27)=(5,7)",128,0,277,0
  94               		.stabs	"uintmax_t:t(5,28)=(5,8)",128,0,282,0
  95               		.stabn	162,0,0,0
  96               		.stabn	162,0,0,0
  97               		.stabs	"int_farptr_t:t(3,1)=(5,5)",128,0,77,0
  98               		.stabs	"uint_farptr_t:t(3,2)=(5,6)",128,0,81,0
  99               		.stabn	162,0,0,0
 100               		.stabn	162,0,0,0
 101               		.stabs	"/usr/lib/avr/include/avr/fuse.h",130,0,0,0
 102               		.stabs	"__fuse_t:t(6,1)=(6,2)=s3low:(0,13),0,8;high:(0,13),8,8;extended:(0,13),16,8;;",128,0,244,0
 103               		.stabn	162,0,0,0
 104               		.stabn	162,0,0,0
 105               		.stabs	"/usr/lib/avr/include/string.h",130,0,0,0
 106               		.stabs	"/usr/lib/gcc/avr/7.3.0/include/stddef.h",130,0,0,0
 107               		.stabs	"size_t:t(8,1)=(0,4)",128,0,216,0
 108               		.stabn	162,0,0,0
 109               		.stabn	162,0,0,0
 110               		.stabs	"__vector_19:F(0,50)",36,0,68,__vector_19
 111               	.global	__vector_19
 112               		.type	__vector_19, @function
 113               	__vector_19:
 114               		.stabd	46,0,0
GAS LISTING /tmp/ccKf8w0j.s 			page 3


   1:main.c        **** /* Necess√°rio para fun√ß√µes e macros b√°sicas */
   2:main.c        **** #include <avr/io.h>
   3:main.c        **** 
   4:main.c        **** /* Os pr√≥ximos dois includes s√£o necess√°rios quando se usa interrup√ßoes */
   5:main.c        **** #include <avr/cpufunc.h>
   6:main.c        **** #include <avr/interrupt.h>
   7:main.c        **** 
   8:main.c        **** #include <stdint.h>
   9:main.c        **** #include <string.h>
  10:main.c        **** 
  11:main.c        **** #define FOSC 16000000ul
  12:main.c        **** #define BAUD 57600
  13:main.c        **** #define MYUBRR (FOSC/(8ul*BAUD) - 1)
  14:main.c        **** #define BUFFER_SIZE 255
  15:main.c        **** 
  16:main.c        **** /* Caracteres especiais */
  17:main.c        **** #define SINC 0x7e
  18:main.c        **** #define XON 0x11
  19:main.c        **** #define XOFF 0x13
  20:main.c        **** #define ESC 0x7d
  21:main.c        **** 
  22:main.c        **** /* Prot√≥tipos das fun√ß√µes */
  23:main.c        **** uint8_t write(uint8_t* buf, uint8_t n, int8_t close_packet);
  24:main.c        **** uint8_t read(uint8_t* buf, uint8_t n);
  25:main.c        **** uint16_t read_rx_buffer(void);
  26:main.c        **** uint8_t write_tx_buffer(uint8_t c);
  27:main.c        **** void enqueue_rx_buffer(uint8_t received_data);
  28:main.c        **** void flow_off(void);
  29:main.c        **** void flow_on(void);
  30:main.c        **** uint8_t is_flow_on(void);
  31:main.c        **** void delay_ms(uint16_t ms);
  32:main.c        **** void blink_led(void);
  33:main.c        **** void turn_led_on(void);
  34:main.c        **** 
  35:main.c        **** /* Vari√°veis globais */
  36:main.c        **** uint8_t rx_byte_cnt, tx_byte_cnt;
  37:main.c        **** uint8_t rx_esc, rx_state=1, rx_sinc, tx_state=1;
  38:main.c        **** uint8_t rx_buffer[BUFFER_SIZE]; /* buffer para recep√ß√£o */
  39:main.c        **** uint8_t rx_head, rx_tail; /* ponteiros para o buffer circular */
  40:main.c        **** uint8_t tx_buffer[BUFFER_SIZE];     /* buffer para transmiss√£o */
  41:main.c        **** uint8_t tx_head, tx_tail;   /* ponteiros para o buffer circular */
  42:main.c        **** uint8_t usart_transmitting;
  43:main.c        **** 
  44:main.c        **** volatile uint8_t rcvd_byte=0;
  45:main.c        **** ISR(USART_RX_vect) {
  46:main.c        ****     uint8_t received_data = UDR0;
  47:main.c        ****     
  48:main.c        ****     if (!rx_esc) {
  49:main.c        ****         if (received_data == ESC) {
  50:main.c        ****             rx_esc = 1;
  51:main.c        ****         } else if (received_data == XOFF) {
  52:main.c        ****             tx_state = 0;
  53:main.c        ****         } else if (received_data == XON) {
  54:main.c        ****             tx_state = 1;
  55:main.c        ****         } else if (received_data == SINC){
  56:main.c        ****             rx_sinc = 1;
  57:main.c        ****             rcvd_byte = 1;
GAS LISTING /tmp/ccKf8w0j.s 			page 4


  58:main.c        ****         } else {
  59:main.c        ****             enqueue_rx_buffer(received_data);
  60:main.c        ****         }
  61:main.c        ****     } else {
  62:main.c        ****         enqueue_rx_buffer(received_data);
  63:main.c        ****         rx_esc = 0;
  64:main.c        ****     }
  65:main.c        **** }
  66:main.c        **** 
  67:main.c        **** /* Flag UDREn indica se o buffer de transmiss√£o UDRn est√° vazio */
  68:main.c        **** ISR(USART_UDRE_vect)
  69:main.c        **** {
 115               		.stabn	68,0,69,.LM0-.LFBB1
 116               	.LM0:
 117               	.LFBB1:
 118 0000 1F92      		push r1
 119 0002 0F92      		push r0
 120 0004 0FB6      		in r0,__SREG__
 121 0006 0F92      		push r0
 122 0008 1124      		clr __zero_reg__
 123 000a 8F93      		push r24
 124 000c EF93      		push r30
 125 000e FF93      		push r31
 126               	/* prologue: Signal */
 127               	/* frame size = 0 */
 128               	/* stack size = 6 */
 129               	.L__stack_usage = 6
  70:main.c        ****     /*
  71:main.c        ****      * Caso tx_head == tx_tail √© porque todos os dados foram transmitidos e desabilita a interrup√
  72:main.c        ****      * Caso contr√°rio envia o dado que estava no tx_tail
  73:main.c        ****      */
  74:main.c        ****     if (tx_head == tx_tail) {
 130               		.stabn	68,0,74,.LM1-.LFBB1
 131               	.LM1:
 132 0010 E091 0000 		lds r30,tx_tail
 133 0014 8091 0000 		lds r24,tx_head
 134 0018 8E13      		cpse r24,r30
 135 001a 00C0      		rjmp .L2
  75:main.c        ****         UCSR0B &= ~(1 << UDRIE0);
 136               		.stabn	68,0,75,.LM2-.LFBB1
 137               	.LM2:
 138 001c 8091 C100 		lds r24,193
 139 0020 8F7D      		andi r24,lo8(-33)
 140 0022 8093 C100 		sts 193,r24
  76:main.c        ****         usart_transmitting = 0;
 141               		.stabn	68,0,76,.LM3-.LFBB1
 142               	.LM3:
 143 0026 1092 0000 		sts usart_transmitting,__zero_reg__
 144               	.L1:
 145               	/* epilogue start */
  77:main.c        ****     } else {
  78:main.c        ****         UDR0 = tx_buffer[tx_tail];
  79:main.c        ****         if (++tx_tail >= BUFFER_SIZE)
  80:main.c        ****             tx_tail = 0;
  81:main.c        ****     }
  82:main.c        **** }
 146               		.stabn	68,0,82,.LM4-.LFBB1
GAS LISTING /tmp/ccKf8w0j.s 			page 5


 147               	.LM4:
 148 002a FF91      		pop r31
 149 002c EF91      		pop r30
 150 002e 8F91      		pop r24
 151 0030 0F90      		pop r0
 152 0032 0FBE      		out __SREG__,r0
 153 0034 0F90      		pop r0
 154 0036 1F90      		pop r1
 155 0038 1895      		reti
 156               	.L2:
  78:main.c        ****         if (++tx_tail >= BUFFER_SIZE)
 157               		.stabn	68,0,78,.LM5-.LFBB1
 158               	.LM5:
 159 003a F0E0      		ldi r31,0
 160 003c E050      		subi r30,lo8(-(tx_buffer))
 161 003e F040      		sbci r31,hi8(-(tx_buffer))
 162 0040 8081      		ld r24,Z
 163 0042 8093 C600 		sts 198,r24
  79:main.c        ****             tx_tail = 0;
 164               		.stabn	68,0,79,.LM6-.LFBB1
 165               	.LM6:
 166 0046 8091 0000 		lds r24,tx_tail
 167 004a 8F5F      		subi r24,lo8(-(1))
 168 004c 8F3F      		cpi r24,lo8(-1)
 169 004e 01F0      		breq .L4
 170 0050 8093 0000 		sts tx_tail,r24
 171 0054 00C0      		rjmp .L1
 172               	.L4:
  80:main.c        ****     }
 173               		.stabn	68,0,80,.LM7-.LFBB1
 174               	.LM7:
 175 0056 1092 0000 		sts tx_tail,__zero_reg__
 176               		.stabn	68,0,82,.LM8-.LFBB1
 177               	.LM8:
 178 005a 00C0      		rjmp .L1
 179               		.size	__vector_19, .-__vector_19
 180               	.Lscope1:
 181               		.stabs	"",36,0,0,.Lscope1-.LFBB1
 182               		.stabd	78,0,0
 183               		.stabs	"read_rx_buffer:F(5,4)",36,0,261,read_rx_buffer
 184               	.global	read_rx_buffer
 185               		.type	read_rx_buffer, @function
 186               	read_rx_buffer:
 187               		.stabd	46,0,0
  83:main.c        **** 
  84:main.c        **** int main(void) {
  85:main.c        ****     /* Fa√ßa a configura√ß√£o do que for necess√°rio aqui */
  86:main.c        ****     /* Seu c√≥digo aqui */
  87:main.c        ****     UCSR0A = (1 << U2X0); /* double speed */
  88:main.c        ****     UCSR0B = (1<<RXEN0) | (1 << TXEN0) | (1 << RXCIE0); /* Enable rx and tx, rx complete interrupt,
  89:main.c        ****     UCSR0C = (1<<UCSZ01) | (1<<UCSZ00); /* Set frame format: 8N1 */
  90:main.c        ****     UBRR0H = (MYUBRR>>8); /* Set baud rate */
  91:main.c        ****     UBRR0L = MYUBRR; /* Set baud rate */
  92:main.c        **** 
  93:main.c        ****     DDRB |= (1 << PB5); // Configura PB5 como sa√≠da (LED)
  94:main.c        ****     PORTB &= ~(1 << PB5); // Garante que o LED est√° apagado no in√≠cio   
  95:main.c        **** 
GAS LISTING /tmp/ccKf8w0j.s 			page 6


  96:main.c        ****     sei();
  97:main.c        **** 
  98:main.c        ****     /* Implemente os testes aqui. Veja o texto para os detalhes */
  99:main.c        ****     
 100:main.c        ****     /* Teste 2 */
 101:main.c        ****     uint8_t str_test[] = "Universidade Federal de Pernambuco\nDepartamento de Eletr√¥nica e Sistema
 102:main.c        ****     write(str_test, sizeof(str_test)-1, 1);
 103:main.c        **** 
 104:main.c        ****     /* Teste 3*/
 105:main.c        ****     uint8_t i = sizeof(str_test);
 106:main.c        ****     uint8_t j = 0;
 107:main.c        ****     while (i) {
 108:main.c        ****         if (i >= 10) {
 109:main.c        ****             i -= write(str_test+j, 10, 0);
 110:main.c        ****             j += 10;
 111:main.c        ****         } else {
 112:main.c        ****             write(str_test+j, i, 1);
 113:main.c        ****             i = 0;
 114:main.c        ****         }
 115:main.c        ****     }
 116:main.c        **** 
 117:main.c        ****     /* Teste 4 */
 118:main.c        ****     uint16_t nbytes = 0;
 119:main.c        ****     uint8_t buffer[255];
 120:main.c        ****     while (nbytes < 300) {
 121:main.c        ****         nbytes += read(buffer, 300-nbytes > 254 ? 254 : 300-nbytes) - 1; /* Conferir se precisa des
 122:main.c        ****     }
 123:main.c        ****     flow_off();
 124:main.c        ****     if (is_flow_on()) {
 125:main.c        ****         turn_led_on();
 126:main.c        ****     } else {
 127:main.c        ****         blink_led();
 128:main.c        ****     }
 129:main.c        **** 
 130:main.c        ****     /* Teste 5 */
 131:main.c        ****     flow_on(); /* Precisa do flow_on()? */
 132:main.c        ****     PORTB &= ~(1 << PB5); /* Apaga o LED */
 133:main.c        ****     nbytes = 0;
 134:main.c        ****     while (nbytes < 300) {
 135:main.c        ****         nbytes += read(buffer, 300-nbytes > 254 ? 254 : 300-nbytes) - 1; /* Conferir se precisa des
 136:main.c        ****     }
 137:main.c        **** 
 138:main.c        ****     flow_off();
 139:main.c        ****     if (is_flow_on()) {
 140:main.c        ****         turn_led_on();
 141:main.c        ****     } else {
 142:main.c        ****         blink_led();
 143:main.c        ****     }
 144:main.c        **** 
 145:main.c        ****     /* Teste 6 */
 146:main.c        ****     flow_on(); /* Precisa do flow_on()? */
 147:main.c        ****     PORTB &= ~(1 << PB5); /* Apaga o LED */
 148:main.c        ****     
 149:main.c        ****     uint8_t binary_string[] = {0x00, 0x01, 0x11, 0x02, 0x13, 0x04, 0x7e, 0x05, 0x7d, 0x06};
 150:main.c        ****     i = 0;
 151:main.c        ****     
 152:main.c        ****     /* √â pra ficar reenviando a string ou envia ela apenas uma vez? */
GAS LISTING /tmp/ccKf8w0j.s 			page 7


 153:main.c        ****     while (i < sizeof(binary_string)) { 
 154:main.c        ****         if (!write(binary_string+i, 1, 0)) {
 155:main.c        ****             PORTB |= (1 << PB5); /* Acende o LED */
 156:main.c        ****         } else {
 157:main.c        ****             PORTB &= ~(1 << PB5); /* Apaga o LED */
 158:main.c        ****             i++;
 159:main.c        ****         }
 160:main.c        ****     }
 161:main.c        ****     
 162:main.c        ****     /* Teste 7 */
 163:main.c        ****     uint8_t comp_str[] = "Desenvolvimento de sistemas embarcados";
 164:main.c        ****     uint8_t comp_buffer[sizeof(comp_str)];
 165:main.c        ****     uint8_t k = 0;
 166:main.c        ****     /* Loop infinito necess√°rio em qualquer programa para
 167:main.c        ****        embarcados */
 168:main.c        ****     while (1) {
 169:main.c        ****         /* Letra a */
 170:main.c        ****         memset(comp_buffer, 0, sizeof(comp_buffer));
 171:main.c        ****         read(comp_buffer, 254);
 172:main.c        **** 
 173:main.c        ****         /*
 174:main.c        ****         for (int z = 0; z < sizeof(comp_buffer); z++){
 175:main.c        ****             write_tx_buffer(comp_buffer[z]);
 176:main.c        ****         }
 177:main.c        ****         write_tx_buffer('\n');
 178:main.c        ****         */
 179:main.c        ****         
 180:main.c        ****         if (memcmp(comp_buffer, comp_str, strlen((const char *)comp_str)+1) == 0) {
 181:main.c        ****             PORTB |= (1 << PB5);
 182:main.c        ****         } else {
 183:main.c        ****             PORTB &= ~(1 << PB5);
 184:main.c        ****         }
 185:main.c        **** 
 186:main.c        ****         /* Letra b */
 187:main.c        ****         memset(comp_buffer, 0, sizeof(comp_buffer));
 188:main.c        ****         k = 0;
 189:main.c        ****         while (read(comp_buffer+k, 10) == 11) {
 190:main.c        ****             k += 10;
 191:main.c        ****         };
 192:main.c        **** 
 193:main.c        ****         /*
 194:main.c        ****         for (int z = 0; z < sizeof(comp_buffer); z++){
 195:main.c        ****             write_tx_buffer(comp_buffer[z]);
 196:main.c        ****         }
 197:main.c        ****         write_tx_buffer('\n');
 198:main.c        ****         */
 199:main.c        **** 
 200:main.c        ****         if (memcmp(comp_buffer, comp_str, strlen((const char *)comp_str)+1) == 0) {
 201:main.c        ****             PORTB |= (1 << PB5);
 202:main.c        ****         } else {
 203:main.c        ****             PORTB &= ~(1 << PB5);
 204:main.c        ****         }
 205:main.c        ****     }
 206:main.c        **** 
 207:main.c        ****     return 0;
 208:main.c        **** }
 209:main.c        **** 
GAS LISTING /tmp/ccKf8w0j.s 			page 8


 210:main.c        **** /* Fun√ß√µes */
 211:main.c        **** 
 212:main.c        **** uint8_t write(uint8_t* buf, uint8_t n, int8_t close_packet){
 213:main.c        ****     tx_byte_cnt = 0;
 214:main.c        **** 
 215:main.c        ****     if (!tx_state) {
 216:main.c        ****         return 0;
 217:main.c        ****     }
 218:main.c        ****     
 219:main.c        ****     while ((tx_byte_cnt < n) && tx_state) {
 220:main.c        ****         if (buf[tx_byte_cnt] == SINC || buf[tx_byte_cnt] == XON || buf[tx_byte_cnt] == XOFF || buf[
 221:main.c        ****             write_tx_buffer(ESC);
 222:main.c        ****         }
 223:main.c        ****         write_tx_buffer(buf[tx_byte_cnt]);
 224:main.c        ****         tx_byte_cnt++;
 225:main.c        ****     }
 226:main.c        **** 
 227:main.c        ****     if (close_packet && tx_state) {
 228:main.c        ****         write_tx_buffer(SINC);
 229:main.c        ****     }
 230:main.c        **** 
 231:main.c        ****     return tx_byte_cnt;
 232:main.c        **** }
 233:main.c        **** 
 234:main.c        **** /* Falta limitar o byte_cnt caso ultrapasse o tamanho do buffer */
 235:main.c        **** uint8_t read(uint8_t* buf, uint8_t n) {
 236:main.c        ****     uint8_t received_byte, byte_cnt = 0;
 237:main.c        **** 
 238:main.c        ****     while (byte_cnt < n) { 
 239:main.c        ****         if (!rx_state) {
 240:main.c        ****             return 0;
 241:main.c        ****         }
 242:main.c        ****         while (!rcvd_byte);
 243:main.c        **** 
 244:main.c        ****         received_byte = read_rx_buffer();
 245:main.c        **** 
 246:main.c        ****         if (rx_sinc) {
 247:main.c        ****             buf[byte_cnt] = '\0';
 248:main.c        ****             rx_sinc = 0;
 249:main.c        ****             rcvd_byte = 0;
 250:main.c        ****             return byte_cnt;
 251:main.c        ****         }
 252:main.c        **** 
 253:main.c        ****         buf[byte_cnt] = received_byte;
 254:main.c        ****         byte_cnt++;
 255:main.c        **** 
 256:main.c        ****         rcvd_byte = 0;
 257:main.c        ****     }
 258:main.c        ****     return n+1;
 259:main.c        **** }
 260:main.c        **** 
 261:main.c        **** uint16_t read_rx_buffer(void)
 262:main.c        **** {
 188               		.stabn	68,0,262,.LM9-.LFBB2
 189               	.LM9:
 190               	.LFBB2:
 191               	/* prologue: function */
GAS LISTING /tmp/ccKf8w0j.s 			page 9


 192               	/* frame size = 0 */
 193               	/* stack size = 0 */
 194               	.L__stack_usage = 0
 263:main.c        ****     uint8_t rc = 0, c = 0;
 264:main.c        **** 
 265:main.c        ****     cli();
 195               		.stabn	68,0,265,.LM10-.LFBB2
 196               	.LM10:
 197               	/* #APP */
 198               	 ;  265 "main.c" 1
 199 005c F894      		cli
 200               	 ;  0 "" 2
 266:main.c        ****     if (rx_head != rx_tail) {
 201               		.stabn	68,0,266,.LM11-.LFBB2
 202               	.LM11:
 203               	/* #NOAPP */
 204 005e 9091 0000 		lds r25,rx_tail
 205 0062 8091 0000 		lds r24,rx_head
 206 0066 8917      		cp r24,r25
 207 0068 01F0      		breq .L8
 267:main.c        ****         c = rx_buffer[rx_tail];
 208               		.stabn	68,0,267,.LM12-.LFBB2
 209               	.LM12:
 210 006a E92F      		mov r30,r25
 211 006c F0E0      		ldi r31,0
 212 006e E050      		subi r30,lo8(-(rx_buffer))
 213 0070 F040      		sbci r31,hi8(-(rx_buffer))
 214 0072 8081      		ld r24,Z
 268:main.c        ****         if (++rx_tail >= BUFFER_SIZE)
 215               		.stabn	68,0,268,.LM13-.LFBB2
 216               	.LM13:
 217 0074 9F5F      		subi r25,lo8(-(1))
 218 0076 9F3F      		cpi r25,lo8(-1)
 219 0078 01F0      		breq .L7
 220 007a 9093 0000 		sts rx_tail,r25
 221               	.L9:
 263:main.c        **** 
 222               		.stabn	68,0,263,.LM14-.LFBB2
 223               	.LM14:
 224 007e 20E0      		ldi r18,0
 225               	.L6:
 269:main.c        ****             rx_tail = 0;
 270:main.c        ****     } else 
 271:main.c        ****         rc = 1;
 272:main.c        ****     sei();
 226               		.stabn	68,0,272,.LM15-.LFBB2
 227               	.LM15:
 228               	/* #APP */
 229               	 ;  272 "main.c" 1
 230 0080 7894      		sei
 231               	 ;  0 "" 2
 273:main.c        ****     return ((uint16_t) rc << 8) | c;
 274:main.c        **** }
 232               		.stabn	68,0,274,.LM16-.LFBB2
 233               	.LM16:
 234               	/* #NOAPP */
 235 0082 922F      		mov r25,r18
GAS LISTING /tmp/ccKf8w0j.s 			page 10


 236               	/* epilogue start */
 237 0084 0895      		ret
 238               	.L7:
 269:main.c        ****             rx_tail = 0;
 239               		.stabn	68,0,269,.LM17-.LFBB2
 240               	.LM17:
 241 0086 1092 0000 		sts rx_tail,__zero_reg__
 242 008a 00C0      		rjmp .L9
 243               	.L8:
 263:main.c        **** 
 244               		.stabn	68,0,263,.LM18-.LFBB2
 245               	.LM18:
 246 008c 80E0      		ldi r24,0
 271:main.c        ****     sei();
 247               		.stabn	68,0,271,.LM19-.LFBB2
 248               	.LM19:
 249 008e 21E0      		ldi r18,lo8(1)
 250 0090 00C0      		rjmp .L6
 251               		.size	read_rx_buffer, .-read_rx_buffer
 252               		.stabs	"rc:r(5,2)",64,0,263,18
 253               		.stabs	"c:r(5,2)",64,0,263,24
 254               		.stabn	192,0,0,.LFBB2-.LFBB2
 255               		.stabn	224,0,0,.Lscope2-.LFBB2
 256               	.Lscope2:
 257               		.stabs	"",36,0,0,.Lscope2-.LFBB2
 258               		.stabd	78,0,0
 259               		.stabs	"read:F(5,2)",36,0,235,read
 260               		.stabs	"buf:P(0,51)=*(5,2)",64,0,235,24
 261               		.stabs	"n:P(5,2)",64,0,235,29
 262               	.global	read
 263               		.type	read, @function
 264               	read:
 265               		.stabd	46,0,0
 235:main.c        ****     uint8_t received_byte, byte_cnt = 0;
 266               		.stabn	68,0,235,.LM20-.LFBB3
 267               	.LM20:
 268               	.LFBB3:
 269 0092 0F93      		push r16
 270 0094 1F93      		push r17
 271 0096 CF93      		push r28
 272 0098 DF93      		push r29
 273               	/* prologue: function */
 274               	/* frame size = 0 */
 275               	/* stack size = 4 */
 276               	.L__stack_usage = 4
 277 009a D62F      		mov r29,r22
 278 009c 8C01      		movw r16,r24
 236:main.c        **** 
 279               		.stabn	68,0,236,.LM21-.LFBB3
 280               	.LM21:
 281 009e C0E0      		ldi r28,0
 282               	.L11:
 238:main.c        ****         if (!rx_state) {
 283               		.stabn	68,0,238,.LM22-.LFBB3
 284               	.LM22:
 285 00a0 CD13      		cpse r28,r29
 286 00a2 00C0      		rjmp .L15
GAS LISTING /tmp/ccKf8w0j.s 			page 11


 258:main.c        **** }
 287               		.stabn	68,0,258,.LM23-.LFBB3
 288               	.LM23:
 289 00a4 81E0      		ldi r24,lo8(1)
 290 00a6 8C0F      		add r24,r28
 291 00a8 00C0      		rjmp .L10
 292               	.L15:
 239:main.c        ****             return 0;
 293               		.stabn	68,0,239,.LM24-.LFBB3
 294               	.LM24:
 295 00aa 8091 0000 		lds r24,rx_state
 296 00ae 8823      		tst r24
 297 00b0 01F0      		breq .L10
 298               	.L13:
 242:main.c        **** 
 299               		.stabn	68,0,242,.LM25-.LFBB3
 300               	.LM25:
 301 00b2 8091 0000 		lds r24,rcvd_byte
 302 00b6 8823      		tst r24
 303 00b8 01F0      		breq .L13
 244:main.c        **** 
 304               		.stabn	68,0,244,.LM26-.LFBB3
 305               	.LM26:
 306 00ba 0E94 0000 		call read_rx_buffer
 246:main.c        ****             buf[byte_cnt] = '\0';
 307               		.stabn	68,0,246,.LM27-.LFBB3
 308               	.LM27:
 309 00be 9091 0000 		lds r25,rx_sinc
 247:main.c        ****             rx_sinc = 0;
 310               		.stabn	68,0,247,.LM28-.LFBB3
 311               	.LM28:
 312 00c2 F801      		movw r30,r16
 246:main.c        ****             buf[byte_cnt] = '\0';
 313               		.stabn	68,0,246,.LM29-.LFBB3
 314               	.LM29:
 315 00c4 9923      		tst r25
 316 00c6 01F0      		breq .L14
 247:main.c        ****             rx_sinc = 0;
 317               		.stabn	68,0,247,.LM30-.LFBB3
 318               	.LM30:
 319 00c8 1082      		st Z,__zero_reg__
 248:main.c        ****             rcvd_byte = 0;
 320               		.stabn	68,0,248,.LM31-.LFBB3
 321               	.LM31:
 322 00ca 1092 0000 		sts rx_sinc,__zero_reg__
 249:main.c        ****             return byte_cnt;
 323               		.stabn	68,0,249,.LM32-.LFBB3
 324               	.LM32:
 325 00ce 1092 0000 		sts rcvd_byte,__zero_reg__
 250:main.c        ****         }
 326               		.stabn	68,0,250,.LM33-.LFBB3
 327               	.LM33:
 328 00d2 8C2F      		mov r24,r28
 329               	.L10:
 330               	/* epilogue start */
 259:main.c        **** 
 331               		.stabn	68,0,259,.LM34-.LFBB3
GAS LISTING /tmp/ccKf8w0j.s 			page 12


 332               	.LM34:
 333 00d4 DF91      		pop r29
 334 00d6 CF91      		pop r28
 335 00d8 1F91      		pop r17
 336 00da 0F91      		pop r16
 337 00dc 0895      		ret
 338               	.L14:
 253:main.c        ****         byte_cnt++;
 339               		.stabn	68,0,253,.LM35-.LFBB3
 340               	.LM35:
 341 00de 8193      		st Z+,r24
 342 00e0 8F01      		movw r16,r30
 254:main.c        **** 
 343               		.stabn	68,0,254,.LM36-.LFBB3
 344               	.LM36:
 345 00e2 CF5F      		subi r28,lo8(-(1))
 256:main.c        ****     }
 346               		.stabn	68,0,256,.LM37-.LFBB3
 347               	.LM37:
 348 00e4 1092 0000 		sts rcvd_byte,__zero_reg__
 349 00e8 00C0      		rjmp .L11
 350               		.size	read, .-read
 351               		.stabs	"byte_cnt:r(5,2)",64,0,236,28
 352               		.stabn	192,0,0,.LFBB3-.LFBB3
 353               		.stabn	224,0,0,.Lscope3-.LFBB3
 354               	.Lscope3:
 355               		.stabs	"",36,0,0,.Lscope3-.LFBB3
 356               		.stabd	78,0,0
 357               		.stabs	"write_tx_buffer:F(5,2)",36,0,276,write_tx_buffer
 358               		.stabs	"c:P(5,2)",64,0,276,18
 359               	.global	write_tx_buffer
 360               		.type	write_tx_buffer, @function
 361               	write_tx_buffer:
 362               		.stabd	46,0,0
 275:main.c        **** 
 276:main.c        **** uint8_t write_tx_buffer(uint8_t c) {
 363               		.stabn	68,0,276,.LM38-.LFBB4
 364               	.LM38:
 365               	.LFBB4:
 366               	/* prologue: function */
 367               	/* frame size = 0 */
 368               	/* stack size = 0 */
 369               	.L__stack_usage = 0
 370 00ea 282F      		mov r18,r24
 277:main.c        ****     uint8_t rc = 0;
 278:main.c        **** 
 279:main.c        ****     cli();
 371               		.stabn	68,0,279,.LM39-.LFBB4
 372               	.LM39:
 373               	/* #APP */
 374               	 ;  279 "main.c" 1
 375 00ec F894      		cli
 376               	 ;  0 "" 2
 280:main.c        **** 
 281:main.c        ****     if(!usart_transmitting){
 377               		.stabn	68,0,281,.LM40-.LFBB4
 378               	.LM40:
GAS LISTING /tmp/ccKf8w0j.s 			page 13


 379               	/* #NOAPP */
 380 00ee 8091 0000 		lds r24,usart_transmitting
 381 00f2 8111      		cpse r24,__zero_reg__
 382 00f4 00C0      		rjmp .L22
 282:main.c        ****         UDR0 = c;
 383               		.stabn	68,0,282,.LM41-.LFBB4
 384               	.LM41:
 385 00f6 2093 C600 		sts 198,r18
 283:main.c        ****         UCSR0B |= (1 << UDRIE0);
 386               		.stabn	68,0,283,.LM42-.LFBB4
 387               	.LM42:
 388 00fa 9091 C100 		lds r25,193
 389 00fe 9062      		ori r25,lo8(32)
 390 0100 9093 C100 		sts 193,r25
 284:main.c        ****         usart_transmitting = 1;
 391               		.stabn	68,0,284,.LM43-.LFBB4
 392               	.LM43:
 393 0104 91E0      		ldi r25,lo8(1)
 394 0106 9093 0000 		sts usart_transmitting,r25
 395               	.L23:
 285:main.c        ****     } else{
 286:main.c        ****         uint8_t next = tx_head + 1;
 287:main.c        ****         if (next >= BUFFER_SIZE)
 288:main.c        ****             next = 0;
 289:main.c        ****         if (next != tx_tail) {
 290:main.c        ****             tx_buffer[tx_head] = c;
 291:main.c        ****             tx_head = next;
 292:main.c        ****         } else  /* buffer cheio */
 293:main.c        ****             rc = 1;
 294:main.c        ****     }
 295:main.c        ****     sei();
 396               		.stabn	68,0,295,.LM44-.LFBB4
 397               	.LM44:
 398               	/* #APP */
 399               	 ;  295 "main.c" 1
 400 010a 7894      		sei
 401               	 ;  0 "" 2
 402               	/* epilogue start */
 296:main.c        ****     return rc;
 297:main.c        **** }
 403               		.stabn	68,0,297,.LM45-.LFBB4
 404               	.LM45:
 405               	/* #NOAPP */
 406 010c 0895      		ret
 407               	.L22:
 408               	.LBB6:
 286:main.c        ****         if (next >= BUFFER_SIZE)
 409               		.stabn	68,0,286,.LM46-.LFBB4
 410               	.LM46:
 411 010e E091 0000 		lds r30,tx_head
 412 0112 91E0      		ldi r25,lo8(1)
 413 0114 9E0F      		add r25,r30
 287:main.c        ****             next = 0;
 414               		.stabn	68,0,287,.LM47-.LFBB4
 415               	.LM47:
 416 0116 9F3F      		cpi r25,lo8(-1)
 417 0118 01F4      		brne .L24
GAS LISTING /tmp/ccKf8w0j.s 			page 14


 288:main.c        ****         if (next != tx_tail) {
 418               		.stabn	68,0,288,.LM48-.LFBB4
 419               	.LM48:
 420 011a 90E0      		ldi r25,0
 421               	.L24:
 289:main.c        ****             tx_buffer[tx_head] = c;
 422               		.stabn	68,0,289,.LM49-.LFBB4
 423               	.LM49:
 424 011c 8091 0000 		lds r24,tx_tail
 425 0120 8917      		cp r24,r25
 426 0122 01F0      		breq .L25
 290:main.c        ****             tx_head = next;
 427               		.stabn	68,0,290,.LM50-.LFBB4
 428               	.LM50:
 429 0124 F0E0      		ldi r31,0
 430 0126 E050      		subi r30,lo8(-(tx_buffer))
 431 0128 F040      		sbci r31,hi8(-(tx_buffer))
 432 012a 2083      		st Z,r18
 291:main.c        ****         } else  /* buffer cheio */
 433               		.stabn	68,0,291,.LM51-.LFBB4
 434               	.LM51:
 435 012c 9093 0000 		sts tx_head,r25
 436               	.LBE6:
 277:main.c        **** 
 437               		.stabn	68,0,277,.LM52-.LFBB4
 438               	.LM52:
 439 0130 80E0      		ldi r24,0
 440               	.LBB7:
 441 0132 00C0      		rjmp .L23
 442               	.L25:
 293:main.c        ****     }
 443               		.stabn	68,0,293,.LM53-.LFBB4
 444               	.LM53:
 445 0134 81E0      		ldi r24,lo8(1)
 446 0136 00C0      		rjmp .L23
 447               	.LBE7:
 448               		.size	write_tx_buffer, .-write_tx_buffer
 449               		.stabs	"rc:r(5,2)",64,0,277,24
 450               		.stabn	192,0,0,.LFBB4-.LFBB4
 451               		.stabs	"next:r(5,2)",64,0,286,25
 452               		.stabn	192,0,0,.LBB6-.LFBB4
 453               		.stabn	224,0,0,.LBE6-.LFBB4
 454               		.stabs	"next:r(5,2)",64,0,286,25
 455               		.stabn	192,0,0,.LBB7-.LFBB4
 456               		.stabn	224,0,0,.LBE7-.LFBB4
 457               		.stabn	224,0,0,.Lscope4-.LFBB4
 458               	.Lscope4:
 459               		.stabs	"",36,0,0,.Lscope4-.LFBB4
 460               		.stabd	78,0,0
 461               		.stabs	"write:F(5,2)",36,0,212,write
 462               		.stabs	"buf:P(0,51)",64,0,212,28
 463               		.stabs	"n:P(5,2)",64,0,212,16
 464               		.stabs	"close_packet:P(5,1)",64,0,212,17
 465               	.global	write
 466               		.type	write, @function
 467               	write:
 468               		.stabd	46,0,0
GAS LISTING /tmp/ccKf8w0j.s 			page 15


 212:main.c        ****     tx_byte_cnt = 0;
 469               		.stabn	68,0,212,.LM54-.LFBB5
 470               	.LM54:
 471               	.LFBB5:
 472 0138 0F93      		push r16
 473 013a 1F93      		push r17
 474 013c CF93      		push r28
 475 013e DF93      		push r29
 476               	/* prologue: function */
 477               	/* frame size = 0 */
 478               	/* stack size = 4 */
 479               	.L__stack_usage = 4
 480 0140 EC01      		movw r28,r24
 481 0142 062F      		mov r16,r22
 482 0144 142F      		mov r17,r20
 213:main.c        **** 
 483               		.stabn	68,0,213,.LM55-.LFBB5
 484               	.LM55:
 485 0146 1092 0000 		sts tx_byte_cnt,__zero_reg__
 215:main.c        ****         return 0;
 486               		.stabn	68,0,215,.LM56-.LFBB5
 487               	.LM56:
 488 014a 8091 0000 		lds r24,tx_state
 489 014e 8111      		cpse r24,__zero_reg__
 490 0150 00C0      		rjmp .L28
 491               	.L26:
 492               	/* epilogue start */
 232:main.c        **** 
 493               		.stabn	68,0,232,.LM57-.LFBB5
 494               	.LM57:
 495 0152 DF91      		pop r29
 496 0154 CF91      		pop r28
 497 0156 1F91      		pop r17
 498 0158 0F91      		pop r16
 499 015a 0895      		ret
 500               	.L32:
 501               	.LBB10:
 502               	.LBB11:
 220:main.c        ****             write_tx_buffer(ESC);
 503               		.stabn	68,0,220,.LM58-.LFBB5
 504               	.LM58:
 505 015c EC0F      		add r30,r28
 506 015e FD2F      		mov r31,r29
 507 0160 F11D      		adc r31,__zero_reg__
 508 0162 8081      		ld r24,Z
 509 0164 982F      		mov r25,r24
 510 0166 9D7F      		andi r25,lo8(-3)
 511 0168 9131      		cpi r25,lo8(17)
 512 016a 01F0      		breq .L29
 513 016c 8D57      		subi r24,lo8(-(-125))
 514 016e 8230      		cpi r24,lo8(2)
 515 0170 00F4      		brsh .L30
 516               	.L29:
 221:main.c        ****         }
 517               		.stabn	68,0,221,.LM59-.LFBB5
 518               	.LM59:
 519 0172 8DE7      		ldi r24,lo8(125)
GAS LISTING /tmp/ccKf8w0j.s 			page 16


 520 0174 0E94 0000 		call write_tx_buffer
 521               	.L30:
 223:main.c        ****         tx_byte_cnt++;
 522               		.stabn	68,0,223,.LM60-.LFBB5
 523               	.LM60:
 524 0178 E091 0000 		lds r30,tx_byte_cnt
 525 017c EC0F      		add r30,r28
 526 017e FD2F      		mov r31,r29
 527 0180 F11D      		adc r31,__zero_reg__
 528 0182 8081      		ld r24,Z
 529 0184 0E94 0000 		call write_tx_buffer
 224:main.c        ****     }
 530               		.stabn	68,0,224,.LM61-.LFBB5
 531               	.LM61:
 532 0188 8091 0000 		lds r24,tx_byte_cnt
 533 018c 8F5F      		subi r24,lo8(-(1))
 534 018e 8093 0000 		sts tx_byte_cnt,r24
 535               	.L28:
 219:main.c        ****         if (buf[tx_byte_cnt] == SINC || buf[tx_byte_cnt] == XON || buf[tx_byte_cnt] == XOFF || buf[
 536               		.stabn	68,0,219,.LM62-.LFBB5
 537               	.LM62:
 538 0192 E091 0000 		lds r30,tx_byte_cnt
 539 0196 E017      		cp r30,r16
 540 0198 00F4      		brsh .L31
 541 019a 8091 0000 		lds r24,tx_state
 542 019e 8111      		cpse r24,__zero_reg__
 543 01a0 00C0      		rjmp .L32
 544               	.L33:
 231:main.c        **** }
 545               		.stabn	68,0,231,.LM63-.LFBB5
 546               	.LM63:
 547 01a2 8091 0000 		lds r24,tx_byte_cnt
 548 01a6 00C0      		rjmp .L26
 549               	.L31:
 227:main.c        ****         write_tx_buffer(SINC);
 550               		.stabn	68,0,227,.LM64-.LFBB5
 551               	.LM64:
 552 01a8 1123      		tst r17
 553 01aa 01F0      		breq .L33
 554 01ac 8091 0000 		lds r24,tx_state
 555 01b0 8823      		tst r24
 556 01b2 01F0      		breq .L33
 228:main.c        ****     }
 557               		.stabn	68,0,228,.LM65-.LFBB5
 558               	.LM65:
 559 01b4 8EE7      		ldi r24,lo8(126)
 560 01b6 0E94 0000 		call write_tx_buffer
 561 01ba 00C0      		rjmp .L33
 562               	.LBE11:
 563               	.LBE10:
 564               		.size	write, .-write
 565               	.Lscope5:
 566               		.stabs	"",36,0,0,.Lscope5-.LFBB5
 567               		.stabd	78,0,0
 568               		.stabs	"enqueue_rx_buffer:F(0,50)",36,0,299,enqueue_rx_buffer
 569               		.stabs	"received_data:P(5,2)",64,0,299,24
 570               	.global	enqueue_rx_buffer
GAS LISTING /tmp/ccKf8w0j.s 			page 17


 571               		.type	enqueue_rx_buffer, @function
 572               	enqueue_rx_buffer:
 573               		.stabd	46,0,0
 298:main.c        **** 
 299:main.c        **** void enqueue_rx_buffer(uint8_t received_data) {
 574               		.stabn	68,0,299,.LM66-.LFBB6
 575               	.LM66:
 576               	.LFBB6:
 577               	/* prologue: function */
 578               	/* frame size = 0 */
 579               	/* stack size = 0 */
 580               	.L__stack_usage = 0
 300:main.c        ****     uint8_t next = rx_head + 1;
 581               		.stabn	68,0,300,.LM67-.LFBB6
 582               	.LM67:
 583 01bc E091 0000 		lds r30,rx_head
 584 01c0 91E0      		ldi r25,lo8(1)
 585 01c2 9E0F      		add r25,r30
 301:main.c        ****         if (next >= BUFFER_SIZE)
 586               		.stabn	68,0,301,.LM68-.LFBB6
 587               	.LM68:
 588 01c4 9F3F      		cpi r25,lo8(-1)
 589 01c6 01F4      		brne .L47
 302:main.c        ****             next = 0;
 590               		.stabn	68,0,302,.LM69-.LFBB6
 591               	.LM69:
 592 01c8 90E0      		ldi r25,0
 593               	.L47:
 303:main.c        ****         
 304:main.c        ****         /* Se o buffer estiver cheio desprezamos o byte recebido mais antigo e
 305:main.c        ****         * colocamos o byte que acabamos de receber em seu lugar */
 306:main.c        ****         rx_buffer[rx_head] = received_data;
 594               		.stabn	68,0,306,.LM70-.LFBB6
 595               	.LM70:
 596 01ca F0E0      		ldi r31,0
 597 01cc E050      		subi r30,lo8(-(rx_buffer))
 598 01ce F040      		sbci r31,hi8(-(rx_buffer))
 599 01d0 8083      		st Z,r24
 307:main.c        ****         rx_head = next;
 600               		.stabn	68,0,307,.LM71-.LFBB6
 601               	.LM71:
 602 01d2 9093 0000 		sts rx_head,r25
 308:main.c        ****         if (next == rx_tail) { /* buffer cheio */
 603               		.stabn	68,0,308,.LM72-.LFBB6
 604               	.LM72:
 605 01d6 8091 0000 		lds r24,rx_tail
 606 01da 8913      		cpse r24,r25
 607 01dc 00C0      		rjmp .L49
 309:main.c        ****             rx_tail++;
 608               		.stabn	68,0,309,.LM73-.LFBB6
 609               	.LM73:
 610 01de 9F5F      		subi r25,lo8(-(1))
 310:main.c        ****             if (rx_tail >= BUFFER_SIZE)
 611               		.stabn	68,0,310,.LM74-.LFBB6
 612               	.LM74:
 613 01e0 9F3F      		cpi r25,lo8(-1)
 614 01e2 01F0      		breq .L50
GAS LISTING /tmp/ccKf8w0j.s 			page 18


 309:main.c        ****             rx_tail++;
 615               		.stabn	68,0,309,.LM75-.LFBB6
 616               	.LM75:
 617 01e4 9093 0000 		sts rx_tail,r25
 618               	.L49:
 311:main.c        ****                 rx_tail = 0;
 312:main.c        ****         }
 313:main.c        ****         rcvd_byte = 1;
 619               		.stabn	68,0,313,.LM76-.LFBB6
 620               	.LM76:
 621 01e8 81E0      		ldi r24,lo8(1)
 622 01ea 8093 0000 		sts rcvd_byte,r24
 623               	/* epilogue start */
 314:main.c        **** }
 624               		.stabn	68,0,314,.LM77-.LFBB6
 625               	.LM77:
 626 01ee 0895      		ret
 627               	.L50:
 311:main.c        ****                 rx_tail = 0;
 628               		.stabn	68,0,311,.LM78-.LFBB6
 629               	.LM78:
 630 01f0 1092 0000 		sts rx_tail,__zero_reg__
 631 01f4 00C0      		rjmp .L49
 632               		.size	enqueue_rx_buffer, .-enqueue_rx_buffer
 633               		.stabs	"next:r(5,2)",64,0,300,25
 634               		.stabn	192,0,0,.LFBB6-.LFBB6
 635               		.stabn	224,0,0,.Lscope6-.LFBB6
 636               	.Lscope6:
 637               		.stabs	"",36,0,0,.Lscope6-.LFBB6
 638               		.stabd	78,0,0
 639               		.stabs	"__vector_18:F(0,50)",36,0,45,__vector_18
 640               	.global	__vector_18
 641               		.type	__vector_18, @function
 642               	__vector_18:
 643               		.stabd	46,0,0
  45:main.c        ****     uint8_t received_data = UDR0;
 644               		.stabn	68,0,45,.LM79-.LFBB7
 645               	.LM79:
 646               	.LFBB7:
 647 01f6 1F92      		push r1
 648 01f8 0F92      		push r0
 649 01fa 0FB6      		in r0,__SREG__
 650 01fc 0F92      		push r0
 651 01fe 1124      		clr __zero_reg__
 652 0200 2F93      		push r18
 653 0202 3F93      		push r19
 654 0204 4F93      		push r20
 655 0206 5F93      		push r21
 656 0208 6F93      		push r22
 657 020a 7F93      		push r23
 658 020c 8F93      		push r24
 659 020e 9F93      		push r25
 660 0210 AF93      		push r26
 661 0212 BF93      		push r27
 662 0214 EF93      		push r30
 663 0216 FF93      		push r31
 664               	/* prologue: Signal */
GAS LISTING /tmp/ccKf8w0j.s 			page 19


 665               	/* frame size = 0 */
 666               	/* stack size = 15 */
 667               	.L__stack_usage = 15
  46:main.c        ****     
 668               		.stabn	68,0,46,.LM80-.LFBB7
 669               	.LM80:
 670 0218 8091 C600 		lds r24,198
  48:main.c        ****         if (received_data == ESC) {
 671               		.stabn	68,0,48,.LM81-.LFBB7
 672               	.LM81:
 673 021c 9091 0000 		lds r25,rx_esc
 674 0220 9111      		cpse r25,__zero_reg__
 675 0222 00C0      		rjmp .L53
  49:main.c        ****             rx_esc = 1;
 676               		.stabn	68,0,49,.LM82-.LFBB7
 677               	.LM82:
 678 0224 8D37      		cpi r24,lo8(125)
 679 0226 01F4      		brne .L54
  50:main.c        ****         } else if (received_data == XOFF) {
 680               		.stabn	68,0,50,.LM83-.LFBB7
 681               	.LM83:
 682 0228 81E0      		ldi r24,lo8(1)
 683 022a 8093 0000 		sts rx_esc,r24
 684               	.L52:
 685               	/* epilogue start */
  65:main.c        **** 
 686               		.stabn	68,0,65,.LM84-.LFBB7
 687               	.LM84:
 688 022e FF91      		pop r31
 689 0230 EF91      		pop r30
 690 0232 BF91      		pop r27
 691 0234 AF91      		pop r26
 692 0236 9F91      		pop r25
 693 0238 8F91      		pop r24
 694 023a 7F91      		pop r23
 695 023c 6F91      		pop r22
 696 023e 5F91      		pop r21
 697 0240 4F91      		pop r20
 698 0242 3F91      		pop r19
 699 0244 2F91      		pop r18
 700 0246 0F90      		pop r0
 701 0248 0FBE      		out __SREG__,r0
 702 024a 0F90      		pop r0
 703 024c 1F90      		pop r1
 704 024e 1895      		reti
 705               	.L54:
  51:main.c        ****             tx_state = 0;
 706               		.stabn	68,0,51,.LM85-.LFBB7
 707               	.LM85:
 708 0250 8331      		cpi r24,lo8(19)
 709 0252 01F4      		brne .L56
  52:main.c        ****         } else if (received_data == XON) {
 710               		.stabn	68,0,52,.LM86-.LFBB7
 711               	.LM86:
 712 0254 1092 0000 		sts tx_state,__zero_reg__
 713 0258 00C0      		rjmp .L52
 714               	.L56:
GAS LISTING /tmp/ccKf8w0j.s 			page 20


  53:main.c        ****             tx_state = 1;
 715               		.stabn	68,0,53,.LM87-.LFBB7
 716               	.LM87:
 717 025a 8131      		cpi r24,lo8(17)
 718 025c 01F4      		brne .L57
  54:main.c        ****         } else if (received_data == SINC){
 719               		.stabn	68,0,54,.LM88-.LFBB7
 720               	.LM88:
 721 025e 81E0      		ldi r24,lo8(1)
 722 0260 8093 0000 		sts tx_state,r24
 723 0264 00C0      		rjmp .L52
 724               	.L57:
  55:main.c        ****             rx_sinc = 1;
 725               		.stabn	68,0,55,.LM89-.LFBB7
 726               	.LM89:
 727 0266 8E37      		cpi r24,lo8(126)
 728 0268 01F4      		brne .L58
  56:main.c        ****             rcvd_byte = 1;
 729               		.stabn	68,0,56,.LM90-.LFBB7
 730               	.LM90:
 731 026a 81E0      		ldi r24,lo8(1)
 732 026c 8093 0000 		sts rx_sinc,r24
  57:main.c        ****         } else {
 733               		.stabn	68,0,57,.LM91-.LFBB7
 734               	.LM91:
 735 0270 8093 0000 		sts rcvd_byte,r24
 736 0274 00C0      		rjmp .L52
 737               	.L58:
  59:main.c        ****         }
 738               		.stabn	68,0,59,.LM92-.LFBB7
 739               	.LM92:
 740 0276 0E94 0000 		call enqueue_rx_buffer
 741 027a 00C0      		rjmp .L52
 742               	.L53:
  62:main.c        ****         rx_esc = 0;
 743               		.stabn	68,0,62,.LM93-.LFBB7
 744               	.LM93:
 745 027c 0E94 0000 		call enqueue_rx_buffer
  63:main.c        ****     }
 746               		.stabn	68,0,63,.LM94-.LFBB7
 747               	.LM94:
 748 0280 1092 0000 		sts rx_esc,__zero_reg__
  65:main.c        **** 
 749               		.stabn	68,0,65,.LM95-.LFBB7
 750               	.LM95:
 751 0284 00C0      		rjmp .L52
 752               		.size	__vector_18, .-__vector_18
 753               		.stabs	"received_data:r(5,2)",64,0,46,24
 754               		.stabn	192,0,0,.LFBB7-.LFBB7
 755               		.stabn	224,0,0,.Lscope7-.LFBB7
 756               	.Lscope7:
 757               		.stabs	"",36,0,0,.Lscope7-.LFBB7
 758               		.stabd	78,0,0
 759               		.stabs	"flow_off:F(0,50)",36,0,316,flow_off
 760               	.global	flow_off
 761               		.type	flow_off, @function
 762               	flow_off:
GAS LISTING /tmp/ccKf8w0j.s 			page 21


 763               		.stabd	46,0,0
 315:main.c        **** 
 316:main.c        **** void flow_off(void) {
 764               		.stabn	68,0,316,.LM96-.LFBB8
 765               	.LM96:
 766               	.LFBB8:
 767               	/* prologue: function */
 768               	/* frame size = 0 */
 769               	/* stack size = 0 */
 770               	.L__stack_usage = 0
 317:main.c        ****     write_tx_buffer(XOFF);
 771               		.stabn	68,0,317,.LM97-.LFBB8
 772               	.LM97:
 773 0286 83E1      		ldi r24,lo8(19)
 774 0288 0E94 0000 		call write_tx_buffer
 318:main.c        ****     rx_state = 0;
 775               		.stabn	68,0,318,.LM98-.LFBB8
 776               	.LM98:
 777 028c 1092 0000 		sts rx_state,__zero_reg__
 778               	/* epilogue start */
 319:main.c        **** }
 779               		.stabn	68,0,319,.LM99-.LFBB8
 780               	.LM99:
 781 0290 0895      		ret
 782               		.size	flow_off, .-flow_off
 783               	.Lscope8:
 784               		.stabs	"",36,0,0,.Lscope8-.LFBB8
 785               		.stabd	78,0,0
 786               		.stabs	"flow_on:F(0,50)",36,0,321,flow_on
 787               	.global	flow_on
 788               		.type	flow_on, @function
 789               	flow_on:
 790               		.stabd	46,0,0
 320:main.c        **** 
 321:main.c        **** void flow_on(void) {
 791               		.stabn	68,0,321,.LM100-.LFBB9
 792               	.LM100:
 793               	.LFBB9:
 794               	/* prologue: function */
 795               	/* frame size = 0 */
 796               	/* stack size = 0 */
 797               	.L__stack_usage = 0
 322:main.c        ****     write_tx_buffer(XON);
 798               		.stabn	68,0,322,.LM101-.LFBB9
 799               	.LM101:
 800 0292 81E1      		ldi r24,lo8(17)
 801 0294 0E94 0000 		call write_tx_buffer
 323:main.c        ****     rx_state = 1;
 802               		.stabn	68,0,323,.LM102-.LFBB9
 803               	.LM102:
 804 0298 81E0      		ldi r24,lo8(1)
 805 029a 8093 0000 		sts rx_state,r24
 806               	/* epilogue start */
 324:main.c        **** }
 807               		.stabn	68,0,324,.LM103-.LFBB9
 808               	.LM103:
 809 029e 0895      		ret
GAS LISTING /tmp/ccKf8w0j.s 			page 22


 810               		.size	flow_on, .-flow_on
 811               	.Lscope9:
 812               		.stabs	"",36,0,0,.Lscope9-.LFBB9
 813               		.stabd	78,0,0
 814               		.stabs	"is_flow_on:F(5,2)",36,0,326,is_flow_on
 815               	.global	is_flow_on
 816               		.type	is_flow_on, @function
 817               	is_flow_on:
 818               		.stabd	46,0,0
 325:main.c        **** 
 326:main.c        **** uint8_t is_flow_on(void) {
 819               		.stabn	68,0,326,.LM104-.LFBB10
 820               	.LM104:
 821               	.LFBB10:
 822               	/* prologue: function */
 823               	/* frame size = 0 */
 824               	/* stack size = 0 */
 825               	.L__stack_usage = 0
 327:main.c        ****     return tx_state;
 328:main.c        **** }
 826               		.stabn	68,0,328,.LM105-.LFBB10
 827               	.LM105:
 828 02a0 8091 0000 		lds r24,tx_state
 829               	/* epilogue start */
 830 02a4 0895      		ret
 831               		.size	is_flow_on, .-is_flow_on
 832               	.Lscope10:
 833               		.stabs	"",36,0,0,.Lscope10-.LFBB10
 834               		.stabd	78,0,0
 835               		.stabs	"delay_ms:F(0,50)",36,0,330,delay_ms
 836               		.stabs	"ms:P(5,4)",64,0,330,24
 837               	.global	delay_ms
 838               		.type	delay_ms, @function
 839               	delay_ms:
 840               		.stabd	46,0,0
 329:main.c        **** 
 330:main.c        **** void delay_ms(uint16_t ms)
 331:main.c        **** {
 841               		.stabn	68,0,331,.LM106-.LFBB11
 842               	.LM106:
 843               	.LFBB11:
 844               	/* prologue: function */
 845               	/* frame size = 0 */
 846               	/* stack size = 0 */
 847               	.L__stack_usage = 0
 332:main.c        ****     uint16_t i, j;
 333:main.c        ****     for(i=0; i<ms; i++)
 848               		.stabn	68,0,333,.LM107-.LFBB11
 849               	.LM107:
 850 02a6 30E0      		ldi r19,0
 851 02a8 20E0      		ldi r18,0
 852               	.L63:
 853               		.stabn	68,0,333,.LM108-.LFBB11
 854               	.LM108:
 855 02aa 2817      		cp r18,r24
 856 02ac 3907      		cpc r19,r25
 857 02ae 01F4      		brne .L65
GAS LISTING /tmp/ccKf8w0j.s 			page 23


 858               	/* epilogue start */
 334:main.c        ****         for(j=0; j<4000; j++)
 335:main.c        ****             _NOP();
 336:main.c        **** }
 859               		.stabn	68,0,336,.LM109-.LFBB11
 860               	.LM109:
 861 02b0 0895      		ret
 862               	.L65:
 863 02b2 40EA      		ldi r20,lo8(-96)
 864 02b4 5FE0      		ldi r21,lo8(15)
 865               	.L64:
 335:main.c        **** }
 866               		.stabn	68,0,335,.LM110-.LFBB11
 867               	.LM110:
 868               	/* #APP */
 869               	 ;  335 "main.c" 1
 870 02b6 0000      		nop
 871               	 ;  0 "" 2
 872               	/* #NOAPP */
 873 02b8 4150      		subi r20,1
 874 02ba 5109      		sbc r21,__zero_reg__
 334:main.c        ****         for(j=0; j<4000; j++)
 875               		.stabn	68,0,334,.LM111-.LFBB11
 876               	.LM111:
 877 02bc 01F4      		brne .L64
 333:main.c        ****         for(j=0; j<4000; j++)
 878               		.stabn	68,0,333,.LM112-.LFBB11
 879               	.LM112:
 880 02be 2F5F      		subi r18,-1
 881 02c0 3F4F      		sbci r19,-1
 882 02c2 00C0      		rjmp .L63
 883               		.size	delay_ms, .-delay_ms
 884               		.stabs	"i:r(5,4)",64,0,332,18
 885               		.stabn	192,0,0,.LFBB11-.LFBB11
 886               		.stabn	224,0,0,.Lscope11-.LFBB11
 887               	.Lscope11:
 888               		.stabs	"",36,0,0,.Lscope11-.LFBB11
 889               		.stabd	78,0,0
 890               		.stabs	"blink_led:F(0,50)",36,0,338,blink_led
 891               	.global	blink_led
 892               		.type	blink_led, @function
 893               	blink_led:
 894               		.stabd	46,0,0
 337:main.c        **** 
 338:main.c        **** void blink_led(void) {
 895               		.stabn	68,0,338,.LM113-.LFBB12
 896               	.LM113:
 897               	.LFBB12:
 898 02c4 CF93      		push r28
 899 02c6 DF93      		push r29
 900               	/* prologue: function */
 901               	/* frame size = 0 */
 902               	/* stack size = 2 */
 903               	.L__stack_usage = 2
 339:main.c        ****     uint8_t k = 5;
 340:main.c        ****     while (k--) {
 904               		.stabn	68,0,340,.LM114-.LFBB12
GAS LISTING /tmp/ccKf8w0j.s 			page 24


 905               	.LM114:
 906 02c8 C6E0      		ldi r28,lo8(6)
 341:main.c        ****         PINB = (1 << PB5);
 907               		.stabn	68,0,341,.LM115-.LFBB12
 908               	.LM115:
 909 02ca D0E2      		ldi r29,lo8(32)
 910               	.L68:
 911 02cc C150      		subi r28,lo8(-(-1))
 340:main.c        ****         PINB = (1 << PB5);
 912               		.stabn	68,0,340,.LM116-.LFBB12
 913               	.LM116:
 914 02ce 01F4      		brne .L69
 915               	/* epilogue start */
 342:main.c        ****         delay_ms(1000);
 343:main.c        ****     }
 344:main.c        **** }
 916               		.stabn	68,0,344,.LM117-.LFBB12
 917               	.LM117:
 918 02d0 DF91      		pop r29
 919 02d2 CF91      		pop r28
 920 02d4 0895      		ret
 921               	.L69:
 341:main.c        ****         delay_ms(1000);
 922               		.stabn	68,0,341,.LM118-.LFBB12
 923               	.LM118:
 924 02d6 D3B9      		out 0x3,r29
 342:main.c        ****         delay_ms(1000);
 925               		.stabn	68,0,342,.LM119-.LFBB12
 926               	.LM119:
 927 02d8 88EE      		ldi r24,lo8(-24)
 928 02da 93E0      		ldi r25,lo8(3)
 929 02dc 0E94 0000 		call delay_ms
 930 02e0 00C0      		rjmp .L68
 931               		.size	blink_led, .-blink_led
 932               	.Lscope12:
 933               		.stabs	"",36,0,0,.Lscope12-.LFBB12
 934               		.stabd	78,0,0
 935               		.stabs	"turn_led_on:F(0,50)",36,0,346,turn_led_on
 936               	.global	turn_led_on
 937               		.type	turn_led_on, @function
 938               	turn_led_on:
 939               		.stabd	46,0,0
 345:main.c        **** 
 346:main.c        **** void turn_led_on(void) {
 940               		.stabn	68,0,346,.LM120-.LFBB13
 941               	.LM120:
 942               	.LFBB13:
 943               	/* prologue: function */
 944               	/* frame size = 0 */
 945               	/* stack size = 0 */
 946               	.L__stack_usage = 0
 347:main.c        ****     PORTB |= (1 << PB5);
 947               		.stabn	68,0,347,.LM121-.LFBB13
 948               	.LM121:
 949 02e2 2D9A      		sbi 0x5,5
 348:main.c        ****     delay_ms(5000);
 950               		.stabn	68,0,348,.LM122-.LFBB13
GAS LISTING /tmp/ccKf8w0j.s 			page 25


 951               	.LM122:
 952 02e4 88E8      		ldi r24,lo8(-120)
 953 02e6 93E1      		ldi r25,lo8(19)
 954 02e8 0E94 0000 		call delay_ms
 349:main.c        ****     PORTB &= ~(1 << PB5);
 955               		.stabn	68,0,349,.LM123-.LFBB13
 956               	.LM123:
 957 02ec 2D98      		cbi 0x5,5
 958               	/* epilogue start */
 350:main.c        **** }
 959               		.stabn	68,0,350,.LM124-.LFBB13
 960               	.LM124:
 961 02ee 0895      		ret
 962               		.size	turn_led_on, .-turn_led_on
 963               	.Lscope13:
 964               		.stabs	"",36,0,0,.Lscope13-.LFBB13
 965               		.stabd	78,0,0
 966               		.section	.rodata.str1.1,"aMS",@progbits,1
 967               	.LC1:
 968 0000 556E 6976 		.string	"Universidade Federal de Pernambuco\nDepartamento de Eletr\303\264nica e Sistemas"
 968      6572 7369 
 968      6461 6465 
 968      2046 6564 
 968      6572 616C 
 969               		.section	.rodata
 970               	.LC0:
 971 0000 00        		.byte	0
 972 0001 01        		.byte	1
 973 0002 11        		.byte	17
 974 0003 02        		.byte	2
 975 0004 13        		.byte	19
 976 0005 04        		.byte	4
 977 0006 7E        		.byte	126
 978 0007 05        		.byte	5
 979 0008 7D        		.byte	125
 980 0009 06        		.byte	6
 981               		.section	.rodata.str1.1
 982               	.LC2:
 983 004a 4465 7365 		.string	"Desenvolvimento de sistemas embarcados"
 983      6E76 6F6C 
 983      7669 6D65 
 983      6E74 6F20 
 983      6465 2073 
 984               		.section	.text.startup,"ax",@progbits
 985               		.stabs	"main:F(0,1)",36,0,84,main
 986               	.global	main
 987               		.type	main, @function
 988               	main:
 989               		.stabd	46,0,0
  84:main.c        ****     /* Fa√ßa a configura√ß√£o do que for necess√°rio aqui */
 990               		.stabn	68,0,84,.LM125-.LFBB14
 991               	.LM125:
 992               	.LFBB14:
 993 0000 CF93      		push r28
 994 0002 DF93      		push r29
 995 0004 CDB7      		in r28,__SP_L__
 996 0006 DEB7      		in r29,__SP_H__
GAS LISTING /tmp/ccKf8w0j.s 			page 26


 997 0008 C15A      		subi r28,-95
 998 000a D140      		sbci r29,1
 999 000c 0FB6      		in __tmp_reg__,__SREG__
 1000 000e F894      		cli
 1001 0010 DEBF      		out __SP_H__,r29
 1002 0012 0FBE      		out __SREG__,__tmp_reg__
 1003 0014 CDBF      		out __SP_L__,r28
 1004               	/* prologue: function */
 1005               	/* frame size = 417 */
 1006               	/* stack size = 419 */
 1007               	.L__stack_usage = 419
  87:main.c        ****     UCSR0B = (1<<RXEN0) | (1 << TXEN0) | (1 << RXCIE0); /* Enable rx and tx, rx complete interrupt,
 1008               		.stabn	68,0,87,.LM126-.LFBB14
 1009               	.LM126:
 1010 0016 82E0      		ldi r24,lo8(2)
 1011 0018 8093 C000 		sts 192,r24
  88:main.c        ****     UCSR0C = (1<<UCSZ01) | (1<<UCSZ00); /* Set frame format: 8N1 */
 1012               		.stabn	68,0,88,.LM127-.LFBB14
 1013               	.LM127:
 1014 001c 88E9      		ldi r24,lo8(-104)
 1015 001e 8093 C100 		sts 193,r24
  89:main.c        ****     UBRR0H = (MYUBRR>>8); /* Set baud rate */
 1016               		.stabn	68,0,89,.LM128-.LFBB14
 1017               	.LM128:
 1018 0022 86E0      		ldi r24,lo8(6)
 1019 0024 8093 C200 		sts 194,r24
  90:main.c        ****     UBRR0L = MYUBRR; /* Set baud rate */
 1020               		.stabn	68,0,90,.LM129-.LFBB14
 1021               	.LM129:
 1022 0028 1092 C500 		sts 197,__zero_reg__
  91:main.c        **** 
 1023               		.stabn	68,0,91,.LM130-.LFBB14
 1024               	.LM130:
 1025 002c 81E2      		ldi r24,lo8(33)
 1026 002e 8093 C400 		sts 196,r24
  93:main.c        ****     PORTB &= ~(1 << PB5); // Garante que o LED est√° apagado no in√≠cio   
 1027               		.stabn	68,0,93,.LM131-.LFBB14
 1028               	.LM131:
 1029 0032 259A      		sbi 0x4,5
  94:main.c        **** 
 1030               		.stabn	68,0,94,.LM132-.LFBB14
 1031               	.LM132:
 1032 0034 2D98      		cbi 0x5,5
  96:main.c        **** 
 1033               		.stabn	68,0,96,.LM133-.LFBB14
 1034               	.LM133:
 1035               	/* #APP */
 1036               	 ;  96 "main.c" 1
 1037 0036 7894      		sei
 1038               	 ;  0 "" 2
 101:main.c        ****     write(str_test, sizeof(str_test)-1, 1);
 1039               		.stabn	68,0,101,.LM134-.LFBB14
 1040               	.LM134:
 1041               	/* #NOAPP */
 1042 0038 8AE4      		ldi r24,lo8(74)
 1043 003a E0E0      		ldi r30,lo8(.LC1)
 1044 003c F0E0      		ldi r31,hi8(.LC1)
GAS LISTING /tmp/ccKf8w0j.s 			page 27


 1045 003e DE01      		movw r26,r28
 1046 0040 B395      		inc r27
 1047               		0:
 1048 0042 0190      		ld r0,Z+
 1049 0044 0D92      		st X+,r0
 1050 0046 8A95      		dec r24
 1051 0048 01F4      		brne 0b
 102:main.c        **** 
 1052               		.stabn	68,0,102,.LM135-.LFBB14
 1053               	.LM135:
 1054 004a 41E0      		ldi r20,lo8(1)
 1055 004c 69E4      		ldi r22,lo8(73)
 1056 004e CE01      		movw r24,r28
 1057 0050 9395      		inc r25
 1058 0052 0E94 0000 		call write
 106:main.c        ****     while (i) {
 1059               		.stabn	68,0,106,.LM136-.LFBB14
 1060               	.LM136:
 1061 0056 00E0      		ldi r16,0
 105:main.c        ****     uint8_t j = 0;
 1062               		.stabn	68,0,105,.LM137-.LFBB14
 1063               	.LM137:
 1064 0058 1AE4      		ldi r17,lo8(74)
 1065               	.L72:
 109:main.c        ****             j += 10;
 1066               		.stabn	68,0,109,.LM138-.LFBB14
 1067               	.LM138:
 1068 005a 40E0      		ldi r20,0
 1069 005c 6AE0      		ldi r22,lo8(10)
 1070 005e 80E0      		ldi r24,0
 1071 0060 91E0      		ldi r25,lo8(1)
 1072 0062 8C0F      		add r24,r28
 1073 0064 9D1F      		adc r25,r29
 1074 0066 800F      		add r24,r16
 1075 0068 911D      		adc r25,__zero_reg__
 1076 006a 0E94 0000 		call write
 1077 006e 181B      		sub r17,r24
 110:main.c        ****         } else {
 1078               		.stabn	68,0,110,.LM139-.LFBB14
 1079               	.LM139:
 1080 0070 065F      		subi r16,lo8(-(10))
 107:main.c        ****         if (i >= 10) {
 1081               		.stabn	68,0,107,.LM140-.LFBB14
 1082               	.LM140:
 1083 0072 1111      		cpse r17,__zero_reg__
 1084 0074 00C0      		rjmp .L74
 1085               	.L75:
 105:main.c        ****     uint8_t j = 0;
 1086               		.stabn	68,0,105,.LM141-.LFBB14
 1087               	.LM141:
 1088 0076 10E0      		ldi r17,0
 1089 0078 00E0      		ldi r16,0
 121:main.c        ****     }
 1090               		.stabn	68,0,121,.LM142-.LFBB14
 1091               	.LM142:
 1092 007a 2CE2      		ldi r18,lo8(44)
 1093 007c E22E      		mov r14,r18
GAS LISTING /tmp/ccKf8w0j.s 			page 28


 1094 007e FF24      		clr r15
 1095 0080 F394      		inc r15
 1096               	.L77:
 1097 0082 B701      		movw r22,r14
 1098 0084 601B      		sub r22,r16
 1099 0086 710B      		sbc r23,r17
 1100 0088 6F3F      		cpi r22,-1
 1101 008a 7105      		cpc r23,__zero_reg__
 1102 008c 00F0      		brlo .L76
 1103 008e 6EEF      		ldi r22,lo8(-2)
 1104 0090 70E0      		ldi r23,0
 1105               	.L76:
 1106 0092 CE01      		movw r24,r28
 1107 0094 0196      		adiw r24,1
 1108 0096 0E94 0000 		call read
 1109 009a 8150      		subi r24,1
 1110 009c 990B      		sbc r25,r25
 1111 009e 080F      		add r16,r24
 1112 00a0 191F      		adc r17,r25
 120:main.c        ****         nbytes += read(buffer, 300-nbytes > 254 ? 254 : 300-nbytes) - 1; /* Conferir se precisa des
 1113               		.stabn	68,0,120,.LM143-.LFBB14
 1114               	.LM143:
 1115 00a2 0C32      		cpi r16,44
 1116 00a4 81E0      		ldi r24,1
 1117 00a6 1807      		cpc r17,r24
 1118 00a8 00F0      		brlo .L77
 123:main.c        ****     if (is_flow_on()) {
 1119               		.stabn	68,0,123,.LM144-.LFBB14
 1120               	.LM144:
 1121 00aa 0E94 0000 		call flow_off
 124:main.c        ****         turn_led_on();
 1122               		.stabn	68,0,124,.LM145-.LFBB14
 1123               	.LM145:
 1124 00ae 8091 0000 		lds r24,tx_state
 1125 00b2 8823      		tst r24
 1126 00b4 01F4      		brne .+2
 1127 00b6 00C0      		rjmp .L78
 125:main.c        ****     } else {
 1128               		.stabn	68,0,125,.LM146-.LFBB14
 1129               	.LM146:
 1130 00b8 0E94 0000 		call turn_led_on
 1131               	.L79:
 131:main.c        ****     PORTB &= ~(1 << PB5); /* Apaga o LED */
 1132               		.stabn	68,0,131,.LM147-.LFBB14
 1133               	.LM147:
 1134 00bc 0E94 0000 		call flow_on
 132:main.c        ****     nbytes = 0;
 1135               		.stabn	68,0,132,.LM148-.LFBB14
 1136               	.LM148:
 1137 00c0 2D98      		cbi 0x5,5
 133:main.c        ****     while (nbytes < 300) {
 1138               		.stabn	68,0,133,.LM149-.LFBB14
 1139               	.LM149:
 1140 00c2 10E0      		ldi r17,0
 1141 00c4 00E0      		ldi r16,0
 135:main.c        ****     }
 1142               		.stabn	68,0,135,.LM150-.LFBB14
GAS LISTING /tmp/ccKf8w0j.s 			page 29


 1143               	.LM150:
 1144 00c6 9CE2      		ldi r25,lo8(44)
 1145 00c8 E92E      		mov r14,r25
 1146 00ca FF24      		clr r15
 1147 00cc F394      		inc r15
 1148               	.L81:
 1149 00ce B701      		movw r22,r14
 1150 00d0 601B      		sub r22,r16
 1151 00d2 710B      		sbc r23,r17
 1152 00d4 6F3F      		cpi r22,-1
 1153 00d6 7105      		cpc r23,__zero_reg__
 1154 00d8 00F0      		brlo .L80
 1155 00da 6EEF      		ldi r22,lo8(-2)
 1156 00dc 70E0      		ldi r23,0
 1157               	.L80:
 1158 00de CE01      		movw r24,r28
 1159 00e0 0196      		adiw r24,1
 1160 00e2 0E94 0000 		call read
 1161 00e6 8150      		subi r24,1
 1162 00e8 990B      		sbc r25,r25
 1163 00ea 080F      		add r16,r24
 1164 00ec 191F      		adc r17,r25
 134:main.c        ****         nbytes += read(buffer, 300-nbytes > 254 ? 254 : 300-nbytes) - 1; /* Conferir se precisa des
 1165               		.stabn	68,0,134,.LM151-.LFBB14
 1166               	.LM151:
 1167 00ee 0C32      		cpi r16,44
 1168 00f0 E1E0      		ldi r30,1
 1169 00f2 1E07      		cpc r17,r30
 1170 00f4 00F0      		brlo .L81
 138:main.c        ****     if (is_flow_on()) {
 1171               		.stabn	68,0,138,.LM152-.LFBB14
 1172               	.LM152:
 1173 00f6 0E94 0000 		call flow_off
 139:main.c        ****         turn_led_on();
 1174               		.stabn	68,0,139,.LM153-.LFBB14
 1175               	.LM153:
 1176 00fa 8091 0000 		lds r24,tx_state
 1177 00fe 8823      		tst r24
 1178 0100 01F4      		brne .+2
 1179 0102 00C0      		rjmp .L82
 140:main.c        ****     } else {
 1180               		.stabn	68,0,140,.LM154-.LFBB14
 1181               	.LM154:
 1182 0104 0E94 0000 		call turn_led_on
 1183               	.L83:
 146:main.c        ****     PORTB &= ~(1 << PB5); /* Apaga o LED */
 1184               		.stabn	68,0,146,.LM155-.LFBB14
 1185               	.LM155:
 1186 0108 0E94 0000 		call flow_on
 147:main.c        ****     
 1187               		.stabn	68,0,147,.LM156-.LFBB14
 1188               	.LM156:
 1189 010c 2D98      		cbi 0x5,5
 149:main.c        ****     i = 0;
 1190               		.stabn	68,0,149,.LM157-.LFBB14
 1191               	.LM157:
 1192 010e 8AE0      		ldi r24,lo8(10)
GAS LISTING /tmp/ccKf8w0j.s 			page 30


 1193 0110 E0E0      		ldi r30,lo8(.LC0)
 1194 0112 F0E0      		ldi r31,hi8(.LC0)
 1195 0114 DE01      		movw r26,r28
 1196 0116 A856      		subi r26,104
 1197 0118 BE4F      		sbci r27,-2
 1198               		0:
 1199 011a 0190      		ld r0,Z+
 1200 011c 0D92      		st X+,r0
 1201 011e 8A95      		dec r24
 1202 0120 01F4      		brne 0b
 150:main.c        ****     
 1203               		.stabn	68,0,150,.LM158-.LFBB14
 1204               	.LM158:
 1205 0122 10E0      		ldi r17,0
 1206               	.L86:
 154:main.c        ****             PORTB |= (1 << PB5); /* Acende o LED */
 1207               		.stabn	68,0,154,.LM159-.LFBB14
 1208               	.LM159:
 1209 0124 40E0      		ldi r20,0
 1210 0126 61E0      		ldi r22,lo8(1)
 1211 0128 88E9      		ldi r24,lo8(-104)
 1212 012a 91E0      		ldi r25,lo8(1)
 1213 012c 8C0F      		add r24,r28
 1214 012e 9D1F      		adc r25,r29
 1215 0130 810F      		add r24,r17
 1216 0132 911D      		adc r25,__zero_reg__
 1217 0134 0E94 0000 		call write
 1218 0138 8111      		cpse r24,__zero_reg__
 1219 013a 00C0      		rjmp .L84
 155:main.c        ****         } else {
 1220               		.stabn	68,0,155,.LM160-.LFBB14
 1221               	.LM160:
 1222 013c 2D9A      		sbi 0x5,5
 1223               	.L85:
 153:main.c        ****         if (!write(binary_string+i, 1, 0)) {
 1224               		.stabn	68,0,153,.LM161-.LFBB14
 1225               	.LM161:
 1226 013e 1A30      		cpi r17,lo8(10)
 1227 0140 01F4      		brne .L86
 163:main.c        ****     uint8_t comp_buffer[sizeof(comp_str)];
 1228               		.stabn	68,0,163,.LM162-.LFBB14
 1229               	.LM162:
 1230 0142 8E01      		movw r16,r28
 1231 0144 0F58      		subi r16,-113
 1232 0146 1E4F      		sbci r17,-2
 1233 0148 87E2      		ldi r24,lo8(39)
 1234 014a E0E0      		ldi r30,lo8(.LC2)
 1235 014c F0E0      		ldi r31,hi8(.LC2)
 1236 014e D801      		movw r26,r16
 1237               		0:
 1238 0150 0190      		ld r0,Z+
 1239 0152 0D92      		st X+,r0
 1240 0154 8A95      		dec r24
 1241 0156 01F4      		brne 0b
 170:main.c        ****         read(comp_buffer, 254);
 1242               		.stabn	68,0,170,.LM163-.LFBB14
 1243               	.LM163:
GAS LISTING /tmp/ccKf8w0j.s 			page 31


 1244 0158 7E01      		movw r14,r28
 1245 015a F6EB      		ldi r31,-74
 1246 015c EF1A      		sub r14,r31
 1247 015e FEEF      		ldi r31,-2
 1248 0160 FF0A      		sbc r15,r31
 1249 0162 87E2      		ldi r24,lo8(39)
 1250 0164 C82E      		mov r12,r24
 1251               	.L87:
 1252 0166 F701      		movw r30,r14
 1253 0168 8C2D      		mov r24,r12
 1254               		0:
 1255 016a 1192      		st Z+,__zero_reg__
 1256 016c 8A95      		dec r24
 1257 016e 01F4      		brne 0b
 171:main.c        **** 
 1258               		.stabn	68,0,171,.LM164-.LFBB14
 1259               	.LM164:
 1260 0170 6EEF      		ldi r22,lo8(-2)
 1261 0172 C701      		movw r24,r14
 1262 0174 0E94 0000 		call read
 180:main.c        ****             PORTB |= (1 << PB5);
 1263               		.stabn	68,0,180,.LM165-.LFBB14
 1264               	.LM165:
 1265 0178 F801      		movw r30,r16
 1266               		0:
 1267 017a 0190      		ld __tmp_reg__,Z+
 1268 017c 0020      		tst __tmp_reg__
 1269 017e 01F4      		brne 0b
 1270 0180 AF01      		movw r20,r30
 1271 0182 401B      		sub r20,r16
 1272 0184 510B      		sbc r21,r17
 1273 0186 B801      		movw r22,r16
 1274 0188 C701      		movw r24,r14
 1275 018a 0E94 0000 		call memcmp
 1276 018e 892B      		or r24,r25
 1277 0190 01F4      		brne .L88
 181:main.c        ****         } else {
 1278               		.stabn	68,0,181,.LM166-.LFBB14
 1279               	.LM166:
 1280 0192 2D9A      		sbi 0x5,5
 1281               	.L89:
 187:main.c        ****         k = 0;
 1282               		.stabn	68,0,187,.LM167-.LFBB14
 1283               	.LM167:
 1284 0194 F701      		movw r30,r14
 1285 0196 8C2D      		mov r24,r12
 1286               		0:
 1287 0198 1192      		st Z+,__zero_reg__
 1288 019a 8A95      		dec r24
 1289 019c 01F4      		brne 0b
 188:main.c        ****         while (read(comp_buffer+k, 10) == 11) {
 1290               		.stabn	68,0,188,.LM168-.LFBB14
 1291               	.LM168:
 1292 019e D12C      		mov r13,__zero_reg__
 1293               	.L90:
 189:main.c        ****             k += 10;
 1294               		.stabn	68,0,189,.LM169-.LFBB14
GAS LISTING /tmp/ccKf8w0j.s 			page 32


 1295               	.LM169:
 1296 01a0 6AE0      		ldi r22,lo8(10)
 1297 01a2 C701      		movw r24,r14
 1298 01a4 8D0D      		add r24,r13
 1299 01a6 911D      		adc r25,__zero_reg__
 1300 01a8 0E94 0000 		call read
 1301 01ac 8B30      		cpi r24,lo8(11)
 1302 01ae 01F0      		breq .L91
 200:main.c        ****             PORTB |= (1 << PB5);
 1303               		.stabn	68,0,200,.LM170-.LFBB14
 1304               	.LM170:
 1305 01b0 F801      		movw r30,r16
 1306               		0:
 1307 01b2 0190      		ld __tmp_reg__,Z+
 1308 01b4 0020      		tst __tmp_reg__
 1309 01b6 01F4      		brne 0b
 1310 01b8 AF01      		movw r20,r30
 1311 01ba 401B      		sub r20,r16
 1312 01bc 510B      		sbc r21,r17
 1313 01be B801      		movw r22,r16
 1314 01c0 C701      		movw r24,r14
 1315 01c2 0E94 0000 		call memcmp
 1316 01c6 892B      		or r24,r25
 1317 01c8 01F4      		brne .L92
 201:main.c        ****         } else {
 1318               		.stabn	68,0,201,.LM171-.LFBB14
 1319               	.LM171:
 1320 01ca 2D9A      		sbi 0x5,5
 1321 01cc 00C0      		rjmp .L87
 1322               	.L74:
 108:main.c        ****             i -= write(str_test+j, 10, 0);
 1323               		.stabn	68,0,108,.LM172-.LFBB14
 1324               	.LM172:
 1325 01ce 1A30      		cpi r17,lo8(10)
 1326 01d0 00F0      		brlo .+2
 1327 01d2 00C0      		rjmp .L72
 112:main.c        ****             i = 0;
 1328               		.stabn	68,0,112,.LM173-.LFBB14
 1329               	.LM173:
 1330 01d4 41E0      		ldi r20,lo8(1)
 1331 01d6 612F      		mov r22,r17
 1332 01d8 80E0      		ldi r24,0
 1333 01da 91E0      		ldi r25,lo8(1)
 1334 01dc 8C0F      		add r24,r28
 1335 01de 9D1F      		adc r25,r29
 1336 01e0 800F      		add r24,r16
 1337 01e2 911D      		adc r25,__zero_reg__
 1338 01e4 0E94 0000 		call write
 1339 01e8 00C0      		rjmp .L75
 1340               	.L78:
 127:main.c        ****     }
 1341               		.stabn	68,0,127,.LM174-.LFBB14
 1342               	.LM174:
 1343 01ea 0E94 0000 		call blink_led
 1344 01ee 00C0      		rjmp .L79
 1345               	.L82:
 142:main.c        ****     }
GAS LISTING /tmp/ccKf8w0j.s 			page 33


 1346               		.stabn	68,0,142,.LM175-.LFBB14
 1347               	.LM175:
 1348 01f0 0E94 0000 		call blink_led
 1349 01f4 00C0      		rjmp .L83
 1350               	.L84:
 157:main.c        ****             i++;
 1351               		.stabn	68,0,157,.LM176-.LFBB14
 1352               	.LM176:
 1353 01f6 2D98      		cbi 0x5,5
 158:main.c        ****         }
 1354               		.stabn	68,0,158,.LM177-.LFBB14
 1355               	.LM177:
 1356 01f8 1F5F      		subi r17,lo8(-(1))
 1357 01fa 00C0      		rjmp .L85
 1358               	.L88:
 183:main.c        ****         }
 1359               		.stabn	68,0,183,.LM178-.LFBB14
 1360               	.LM178:
 1361 01fc 2D98      		cbi 0x5,5
 1362 01fe 00C0      		rjmp .L89
 1363               	.L91:
 190:main.c        ****         };
 1364               		.stabn	68,0,190,.LM179-.LFBB14
 1365               	.LM179:
 1366 0200 EAE0      		ldi r30,lo8(10)
 1367 0202 DE0E      		add r13,r30
 1368 0204 00C0      		rjmp .L90
 1369               	.L92:
 203:main.c        ****         }
 1370               		.stabn	68,0,203,.LM180-.LFBB14
 1371               	.LM180:
 1372 0206 2D98      		cbi 0x5,5
 1373 0208 00C0      		rjmp .L87
 1374               		.size	main, .-main
 1375               		.stabs	"str_test:(0,52)=ar(0,53)=r(0,53);0;0177777;;0;73;(5,2)",128,0,101,256
 1376               		.stabs	"j:r(5,2)",64,0,106,16
 1377               		.stabs	"buffer:(0,54)=ar(0,53);0;254;(5,2)",128,0,119,1
 1378               		.stabs	"binary_string:(0,55)=ar(0,53);0;9;(5,2)",128,0,149,408
 1379               		.stabs	"comp_str:(0,56)=ar(0,53);0;38;(5,2)",128,0,163,369
 1380               		.stabs	"comp_buffer:(0,56)",128,0,164,330
 1381               		.stabs	"k:r(5,2)",64,0,165,13
 1382               		.stabn	192,0,0,.LFBB14-.LFBB14
 1383               		.stabn	224,0,0,.Lscope14-.LFBB14
 1384               	.Lscope14:
 1385               		.stabs	"",36,0,0,.Lscope14-.LFBB14
 1386               		.stabd	78,0,0
 1387               	.global	rcvd_byte
 1388               		.section .bss
 1389               		.type	rcvd_byte, @object
 1390               		.size	rcvd_byte, 1
 1391               	rcvd_byte:
 1392 0000 00        		.zero	1
 1393               		.stabs	"rcvd_byte:G(0,57)=B(5,2)",32,0,44,0
 1394               		.comm	usart_transmitting,1,1
 1395               		.stabs	"usart_transmitting:G(5,2)",32,0,42,0
 1396               		.comm	tx_tail,1,1
 1397               		.stabs	"tx_tail:G(5,2)",32,0,41,0
GAS LISTING /tmp/ccKf8w0j.s 			page 34


 1398               		.comm	tx_head,1,1
 1399               		.stabs	"tx_head:G(5,2)",32,0,41,0
 1400               		.comm	tx_buffer,255,1
 1401               		.stabs	"tx_buffer:G(0,54)",32,0,40,0
 1402               		.comm	rx_tail,1,1
 1403               		.stabs	"rx_tail:G(5,2)",32,0,39,0
 1404               		.comm	rx_head,1,1
 1405               		.stabs	"rx_head:G(5,2)",32,0,39,0
 1406               		.comm	rx_buffer,255,1
 1407               		.stabs	"rx_buffer:G(0,54)",32,0,38,0
 1408               	.global	tx_state
 1409               		.data
 1410               		.type	tx_state, @object
 1411               		.size	tx_state, 1
 1412               	tx_state:
 1413 0000 01        		.byte	1
 1414               		.stabs	"tx_state:G(5,2)",32,0,37,0
 1415               		.comm	rx_sinc,1,1
 1416               		.stabs	"rx_sinc:G(5,2)",32,0,37,0
 1417               	.global	rx_state
 1418               		.type	rx_state, @object
 1419               		.size	rx_state, 1
 1420               	rx_state:
 1421 0001 01        		.byte	1
 1422               		.stabs	"rx_state:G(5,2)",32,0,37,0
 1423               		.comm	rx_esc,1,1
 1424               		.stabs	"rx_esc:G(5,2)",32,0,37,0
 1425               		.comm	tx_byte_cnt,1,1
 1426               		.stabs	"tx_byte_cnt:G(5,2)",32,0,36,0
 1427               		.comm	rx_byte_cnt,1,1
 1428               		.stabs	"rx_byte_cnt:G(5,2)",32,0,36,0
 1429               		.text
 1430               		.stabs	"",100,0,0,.Letext0
 1431               	.Letext0:
 1432               		.ident	"GCC: (GNU) 7.3.0"
 1433               	.global __do_copy_data
 1434               	.global __do_clear_bss
GAS LISTING /tmp/ccKf8w0j.s 			page 35


DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/ccKf8w0j.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccKf8w0j.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccKf8w0j.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccKf8w0j.s:5      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccKf8w0j.s:6      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccKf8w0j.s:113    .text:0000000000000000 __vector_19
                            *COM*:0000000000000001 tx_tail
                            *COM*:0000000000000001 tx_head
                            *COM*:0000000000000001 usart_transmitting
                            *COM*:00000000000000ff tx_buffer
     /tmp/ccKf8w0j.s:186    .text:000000000000005c read_rx_buffer
                            *COM*:0000000000000001 rx_tail
                            *COM*:0000000000000001 rx_head
                            *COM*:00000000000000ff rx_buffer
     /tmp/ccKf8w0j.s:264    .text:0000000000000092 read
     /tmp/ccKf8w0j.s:1420   .data:0000000000000001 rx_state
     /tmp/ccKf8w0j.s:1391   .bss:0000000000000000 rcvd_byte
                            *COM*:0000000000000001 rx_sinc
     /tmp/ccKf8w0j.s:361    .text:00000000000000ea write_tx_buffer
     /tmp/ccKf8w0j.s:467    .text:0000000000000138 write
                            *COM*:0000000000000001 tx_byte_cnt
     /tmp/ccKf8w0j.s:1412   .data:0000000000000000 tx_state
     /tmp/ccKf8w0j.s:572    .text:00000000000001bc enqueue_rx_buffer
     /tmp/ccKf8w0j.s:642    .text:00000000000001f6 __vector_18
                            *COM*:0000000000000001 rx_esc
     /tmp/ccKf8w0j.s:762    .text:0000000000000286 flow_off
     /tmp/ccKf8w0j.s:789    .text:0000000000000292 flow_on
     /tmp/ccKf8w0j.s:817    .text:00000000000002a0 is_flow_on
     /tmp/ccKf8w0j.s:839    .text:00000000000002a6 delay_ms
     /tmp/ccKf8w0j.s:893    .text:00000000000002c4 blink_led
     /tmp/ccKf8w0j.s:938    .text:00000000000002e2 turn_led_on
     /tmp/ccKf8w0j.s:988    .text.startup:0000000000000000 main
                            *COM*:0000000000000001 rx_byte_cnt

UNDEFINED SYMBOLS
memcmp
__do_copy_data
__do_clear_bss
